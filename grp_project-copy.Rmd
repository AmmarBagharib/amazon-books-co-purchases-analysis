---
title: "Group Project (exploration)"
authors: Ammar Bagharib, Chen Yang, Ng Qing Yu Randy 
date: "NUS AY2023/24 Semester 1"
output: 
  bookdown::pdf_document2:
      toc: true
---

```{r setup, echo=FALSE}
knitr::opts_chunk$set(warning = FALSE, message = FALSE, echo=FALSE)
options(tinytex.verbose = TRUE)
```

```{r load-packages}
library(dplyr)
library(data.table)
library(here)
library(bookdown)
knitr::opts_knit$set(root.dir = here())
```

# Introduction 

Established in 1995 as a pioneering online bookstore, Amazon has been a cherished destination for book enthusiasts for several decades. While the company has evolved and expanded into a diverse range of industries, it has consistently maintained its status as a go-to hub for book shoppers. 

In the scope of this project, our objective is to delve into the evolving co-purchase patterns of books over time, understand it's characteristics and underlying patterns. With this information, we’re looking to identify key products which drive purchasing behaviour among consumers, devise marketing strategies, as well as to assess the efficacy of incorporating network analytics into the development of product recommendation engines. 

In doing so, we anticipate that our efforts will yield a mutually beneficial outcome. By facilitating book discoveries and guiding readers to titles they might not have encountered otherwise, we aim to stimulate sales on the platform, benefiting both Amazon and its thriving community of book lovers. 

# About the Dataset 

In our project, we used the amazon co-purchase dataset from Stanford University’s SNAP library. The dataset was compiled through an extensive crawl of the Amazon website in the summer of 2006, capturing a vast array of product metadata and review details for 548,552 diverse items, spanning categories such as Books, music CDs, DVDs, and VHS video tapes. It encompasses comprehensive information for each product, including titles, sales ranks, and genre/category information. In our analysis, we restricted the product scope to books only. 

Specifically, we delved into the structure of the network as of March 2006 and developed our model around it. In our network, each node represents a book and each undirected edge represent the co-purchase relationship between two books. To supplement our analysis, we extracted the product ID, name, genre, product rank and review count information for all books to be included as node attributes. 

## Network Sampling 

### Methodology: 

To enable us to compute some of the key network metrics efficiently, we opted to sample 100,000 nodes from the network. This approach offers a practical means of analysis while retaining a substantial portion of the network's complexity. Steps taken in our sampling process are as follows:

```{r compare_structure,  fig.width=10, fig.height=5, fig.cap="All Predictor Relationships using ggpairs"}
knitr::include_graphics(here::here("outputs/plots_and_tables/1_combined_plot.png"))
```

```{r deg_visualization,  fig.width=10, fig.height=5, fig.cap="Degree Centrality Distribution"}
knitr::include_graphics(here::here("outputs/plots_and_tables/2_degree_plot.png"))
```


```{r density_trans_sampled}
trans_density_table <- data.table::fread(
  here::here("outputs/plots_and_tables/3_transitivity_density.csv"))

knitr::kable(trans_density_table, caption = "Density and Global Transitivity")
```



```{r pagerank, fig.width = 10, fig.height = 5, fig.cap="Pagerank Distribution"}
#visualize distribution of pagerank
knitr::include_graphics(here::here("outputs/plots_and_tables/4_pagerank_plot.png"))
```


```{r top_pagerank}
pagerank_table <- data.table::fread(
  here::here("outputs/plots_and_tables/5_top-n-books.csv"))

knitr::kable(pagerank_table, caption = "Top 10 Books by Pagerank")
```

```{r top_genres}
pagerank_table <- data.table::fread(
  here::here("outputs/plots_and_tables/6_top-n-genres.csv"))

knitr::kable(pagerank_table, caption = "Top 10 Genres by Count")
```


```{r first_regression-results}
regression_table <- data.table::fread(
  here::here("outputs/plots_and_tables/7_regression-results.csv"))[1:3]



knitr::kable(regression_table, caption = "Regression Results")
```

```{r added_analysis_regression-results}
regression_table <- data.table::fread(
  here::here("outputs/plots_and_tables/7_regression-results.csv"))

knitr::kable(regression_table, caption = "Regression Results")
```


